<div class="flex flex-col h-full" style="height: calc(100vh - 114px)">
  <h2 class="text-2xl font-semibold text-gray-900 mb-6">ğŸ“‹ Your Tasks</h2>

  <div
    *ngIf="tasks.length === 0"
    class="text-center py-12 bg-white rounded-2xl shadow-sm"
  >
    <p class="text-gray-500 text-lg">
      âœ¨ No tasks yet. Create one to get started!
    </p>
  </div>

  <!-- 3-Column Grid with Scrolling -->
  <div
    class="flex-1 overflow-y-auto pr-2"
    [class.grid-container]="tasks.length > 0"
  >
    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 auto-rows-max"
    >
      <div
        *ngFor="let task of tasks"
        class="bg-white rounded-xl border border-gray-200 p-4 shadow-sm hover:shadow-md transition-all h-fit flex flex-col"
       style="    height: calc(50vh - 138px);">
        <!-- Checkbox and Title -->
        <div class="flex items-center gap-2 mb-3">
          <input
            type="checkbox"
            [checked]="task.status === 'completed'"
            class="w-4 h-4 rounded border-gray-300 text-yellow-300 cursor-pointer flex-shrink-0"
            [disabled]="true"
          />
          <div
            class="text-sm font-semibold flex-1"
            [ngClass]="{
              'line-through text-gray-400': task.status === 'completed',
              'text-gray-900': task.status !== 'completed'
            }"
          >
            {{ task.title }}
          </div>
        </div>

        <!-- Badges Section -->
        <div class="flex flex-wrap gap-2 mb-3">
          <!-- Priority Badge -->
          <span
            class="px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap"
            [ngClass]="{
              'bg-red-100 text-red-800': task.priority === 'high',
              'bg-yellow-100 text-yellow-800': task.priority === 'medium',
              'bg-green-100 text-green-800': task.priority === 'low'
            }"
          >
            {{ task.priority | uppercase }}
          </span>

          <!-- Status Badge -->
          <span
            class="px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap"
            [ngClass]="{
              'bg-blue-100 text-blue-800': task.status === 'to-do',
              'bg-orange-100 text-orange-800': task.status === 'in-progress',
              'bg-green-100 text-green-800': task.status === 'completed'
            }"
          >
            {{
              task.status === "to-do"
                ? "ğŸ“‹ TO-DO"
                : task.status === "in-progress"
                ? "âš¡ IN PROGRESS"
                : "âœ… COMPLETED"
            }}
          </span>
        </div>

        <!-- Description -->
        <p
          *ngIf="task.description"
          class="text-gray-600 text-xs mb-3 line-clamp-2"
        >
          {{ task.description }}
        </p>

        <!-- Due Date -->
        <div class="text-xs text-gray-500 mb-3">
          <span *ngIf="task.dueDate" class="flex items-center gap-1">
            ğŸ“… {{ task.dueDate }}
          </span>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-1 mt-auto">
          <button
            (click)="onViewTask(task)"
            title="View Details"
            class="p-1.5 rounded-lg hover:bg-blue-50 text-blue-600 transition-colors text-sm flex-1 text-center"
          >
            ğŸ‘ï¸
          </button>
          <button
            (click)="onEditTask(task)"
            title="Edit Task"
            class="p-1.5 rounded-lg hover:bg-yellow-50 text-yellow-600 transition-colors text-sm flex-1 text-center"
          >
            âœï¸
          </button>
          <button
            (click)="onDeleteTask(task.id)"
            title="Delete Task"
            class="p-1.5 rounded-lg hover:bg-red-50 text-red-600 transition-colors text-sm flex-1 text-center"
          >
            ğŸ—‘ï¸
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
